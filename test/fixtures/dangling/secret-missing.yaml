# Test fixture: Pod referencing non-existent Secrets
# Should trigger: CCVE-2025-0692 (Pod references missing Secret)
---
apiVersion: v1
kind: Pod
metadata:
  name: pod-missing-secret
  namespace: test-dangling
spec:
  containers:
  - name: app
    image: nginx
    envFrom:
    - secretRef:
        name: missing-secret
    env:
    - name: DB_PASSWORD
      valueFrom:
        secretKeyRef:
          name: also-missing-secret
          key: password
    volumeMounts:
    - name: secret-vol
      mountPath: /etc/secrets
  volumes:
  - name: secret-vol
    secret:
      secretName: third-missing-secret
  imagePullSecrets:
  - name: missing-pull-secret
